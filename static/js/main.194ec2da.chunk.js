(this["webpackJsonpcanvas-whiteboard"]=this["webpackJsonpcanvas-whiteboard"]||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(21)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(3),l=r.n(o),c=(r(13),r(14),r(1)),i=r(4),s=r(5),u=r(6),d=r(7),h={DEFAULT_LINECAP:"round",DEFAULT_STROKE_COLOR:"#12b886",DEFAULT_LINE_WIDTH:"5",DEFAULT_TOOL:"pen",TOOLS:{PEN:"pen",ERASER:"eraser",HIGHLIGHTER:"highlighter"},COLOR_INPUT_ID:"input-color-picker",WIDTH_PANEL_SIZES:[{radius:"5%",width:"1"},{radius:"10%",width:"2"},{radius:"15%",width:"3"},{radius:"20%",width:"4"},{radius:"25%",width:"5"},{radius:"30%",width:"6"},{radius:"35%",width:"7"},{radius:"40%",width:"8"}],DEFAULT_COLORS:["#000000","#343a40","#495057","#c92a2a","#a61e4d","#862e9c","#5f3dc4","#364fc7","#2b8a3e","#d9480f"]};r(15);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var m=n.a.createElement("title",null,"Draw Copy"),v=n.a.createElement("desc",null,"Created with Sketch."),E=n.a.createElement("defs",null),g=n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"Draw-Copy",stroke:"#505050",strokeWidth:1.7},n.a.createElement("path",{d:"M12.0197319,31.4105292 L12.7295275,27.3832002 C12.7473398,27.2821344 12.7958192,27.1889973 12.8683849,27.1164316 L27.2525835,12.732233 C28.2288942,11.7559223 29.8118066,11.7559223 30.7881174,12.732233 L32.2023309,14.1464466 C33.1786417,15.1227573 33.1786417,16.7056698 32.2023309,17.6819805 L17.8180472,32.0662642 C17.7455344,32.1387771 17.6524787,32.18724 17.5514944,32.2050836 L13.5262014,32.9163388 C12.8191836,33.0412664 12.1447585,32.569389 12.0198309,31.8623711 C11.993423,31.7129176 11.9933895,31.5599943 12.0197319,31.4105292 Z",id:"icon_draw-copy"}))),y=function(e){var t=e.svgRef,r=e.title,a=p(e,["svgRef","title"]);return n.a.createElement("svg",f({width:"44px",height:"44px",viewBox:"0 0 44 44",ref:t},a),void 0===r?m:r?n.a.createElement("title",null,r):null,v,E,g)},w=n.a.forwardRef((function(e,t){return n.a.createElement(y,f({svgRef:t},e))})),O=(r.p,r(16),function(e){var t=function(t){t.stopPropagation();var r=t.currentTarget.dataset.size;e.sendBrushStyle({width:r})};return n.a.createElement("div",{className:"popover width-panel"},n.a.createElement("div",{className:"width-panel-container"},n.a.createElement("div",{className:"width-panel-content"},h.WIDTH_PANEL_SIZES.map((function(r,a){return n.a.createElement("div",{className:"width-panel-box ".concat(parseInt(e.width)===parseInt(r.width)?"toolbar-content-active":""),key:a,onClick:t,"data-size":r.width},n.a.createElement("svg",{viewBox:"0 0 44 44",className:parseInt(e.width)===parseInt(r.width)?"img-acitve":""},n.a.createElement("circle",{cx:"50%",cy:"50%",r:r.radius})))})))))}),b=(r(17),function(e){var t=function(t){t.stopPropagation();var r="";t.target.value&&t.target.id===h.COLOR_INPUT_ID?r=t.target.value:t.currentTarget.dataset.color&&(r=t.currentTarget.dataset.color),r=function(e){return e&&-1===e.indexOf("#")?"#"+e:e}(r),e.sendBrushStyle({color:r})},r=function(e){return e&&-1!==e.indexOf("#")?e.slice(1):e}(e.color);return n.a.createElement("div",{className:"color-picker-wrapper"},n.a.createElement("div",{className:"color-picker-control-container"},n.a.createElement("button",{className:"color-picker-label-swatch",style:{backgroundColor:e.color||"12b886"}}),n.a.createElement("label",{className:"color-input-container"},n.a.createElement("div",{className:"color-picker-hash"},"#"),n.a.createElement("input",{onChange:t,className:"color-picker-input",id:"input-color-picker",value:r}))),n.a.createElement("div",{className:"popover"},n.a.createElement("div",{className:"color-picker color-picker-type-elementStroke"},n.a.createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),n.a.createElement("div",{className:"color-picker-content"},h.DEFAULT_COLORS.map((function(e,r){return n.a.createElement("button",{className:"color-picker-swatch",style:{backgroundColor:e},onClick:t,key:r,"data-color":e},n.a.createElement("span",{className:"color-picker-keybinding"},r+1))}))))))}),R=(r(18),function(e){var t=e.selectedTool===h.TOOLS.PEN&&!e.hideTool;return n.a.createElement("div",null,n.a.createElement("div",{className:t?"toolbar-content-active":""},n.a.createElement(w,{className:t?"img-acitve":"",onClick:e.changeTool,"data-tool":h.TOOLS.PEN})),t&&n.a.createElement("div",{className:"brush-style-container"},n.a.createElement(b,{sendBrushStyle:e.changeBrushStyle,color:e.brushStyle.color}),n.a.createElement(O,{sendBrushStyle:e.changeBrushStyle,width:e.brushStyle.width})))});function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var S=n.a.createElement("title",null,"eraser copy"),C=n.a.createElement("desc",null,"Created with Sketch."),k=n.a.createElement("defs",null),x=n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"eraser-copy",stroke:"#505050",strokeWidth:1.7},n.a.createElement("path",{d:"M14,30.9644661 L20.3431458,30.9644661 C20.8735787,30.9644661 21.3822866,30.7537524 21.7573593,30.3786797 L32.5502525,19.5857864 C33.3313011,18.8047379 33.3313011,17.5384079 32.5502525,16.7573593 L27.3786797,11.5857864 C26.5976311,10.8047379 25.3313011,10.8047379 24.5502525,11.5857864 L10.5857864,25.5502525 C9.80473785,26.3313011 9.80473785,27.5976311 10.5857864,28.3786797 L12.5857864,30.3786797 C12.9608592,30.7537524 13.469567,30.9644661 14,30.9644661 Z M28.4644661,23.6715729 L20.4644661,15.6715729",id:"icon_eraser-copy-3"}))),N=function(e){var t=e.svgRef,r=e.title,a=L(e,["svgRef","title"]);return n.a.createElement("svg",T({width:"44px",height:"44px",viewBox:"0 0 44 44",ref:t},a),void 0===r?S:r?n.a.createElement("title",null,r):null,C,k,x)},I=n.a.forwardRef((function(e,t){return n.a.createElement(N,T({svgRef:t},e))})),j=(r.p,r(19),function(e){var t=e.selectedTool===h.TOOLS.ERASER&&!e.hideTool;return n.a.createElement("div",{className:"eraser-wrapper"},n.a.createElement("div",{className:t?"toolbar-content-active":""},n.a.createElement(I,{onClick:e.changeTool,"data-tool":h.TOOLS.ERASER,className:t?"img-acitve":""})),t&&n.a.createElement("div",{className:"brush-style-container"},n.a.createElement(O,{sendBrushStyle:e.changeBrushStyle,selectedTool:"eraser",width:e.brushStyle.width})))});function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var _=n.a.createElement("title",null,"highlighter copy"),H=n.a.createElement("desc",null,"Created with Sketch."),M=n.a.createElement("defs",null),A=n.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("g",{id:"highlighter-copy",stroke:"#505050",strokeWidth:1.7},n.a.createElement("path",{d:"M15.2902093,32.1671854 L16.3025708,31.2868708 C16.3935788,31.2077334 16.4981517,31.1457113 16.6112387,31.1038003 L20.7355442,29.5752962 C20.8030807,29.5502665 20.8644124,29.5109413 20.9153421,29.4600116 L33.1431206,17.232233 C34.1194313,16.2559223 34.1194313,14.6730099 33.1431206,13.6966991 L30.1786545,10.732233 C29.2023438,9.75592232 27.6194313,9.75592232 26.6431206,10.732233 L14.421508,22.9538457 C14.3666205,23.0087331 14.3252661,23.075646 14.3007197,23.1492852 L12.8968161,27.360996 C12.8579682,27.4775397 12.7979786,27.5859279 12.7198518,27.6807319 L9.26849351,31.8688301 C9.16312359,31.9966927 9.18135749,32.185765 9.30922007,32.2911349 C9.34941057,32.3242554 9.39753084,32.3463428 9.44884711,32.3552244 L12.6385601,32.9072863 C13.5887584,33.0717426 14.5625245,32.799955 15.2902093,32.1671854 Z M16.440209,30.7671915 L12.940209,27.2671915 M20.3813087,28.279949 L14.8813087,22.779949",id:"icon_highlighter-copy"}))),B=function(e){var t=e.svgRef,r=e.title,a=P(e,["svgRef","title"]);return n.a.createElement("svg",D({width:"44px",height:"44px",viewBox:"0 0 44 44",ref:t},a),void 0===r?_:r?n.a.createElement("title",null,r):null,H,M,A)},W=n.a.forwardRef((function(e,t){return n.a.createElement(B,D({svgRef:t},e))})),U=(r.p,function(e){var t=e.selectedTool===h.TOOLS.HIGHLIGHTER&&!e.hideTool;return n.a.createElement("div",null,n.a.createElement("div",{className:t?"toolbar-content-active":""},n.a.createElement(W,{className:t?"img-acitve":"",onClick:e.changeTool,"data-tool":h.TOOLS.HIGHLIGHTER})),t&&n.a.createElement("div",{className:"brush-style-container",style:{height:131}},n.a.createElement(b,{sendBrushStyle:e.changeBrushStyle,color:e.brushStyle.color})))});var F=function(e){return n.a.createElement("div",{className:"toolbar"},n.a.createElement(R,e),n.a.createElement(U,e),n.a.createElement(j,e))},G=(r(20),function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).initialiseCanvasDefaults=function(){var e=n.canvasRef.current,t=n.draftRef.current;e.width=window.innerWidth,e.height=window.innerWidth,e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px"),t.width=window.innerWidth,t.height=window.innerWidth,t.style.width="".concat(window.innerWidth,"px"),t.style.height="".concat(window.innerHeight,"px");var r=n.canvasRef.current.getContext("2d"),a=n.draftRef.current.getContext("2d");r.scale(1,1),a.scale(1,1),a.lineCap=h.DEFAULT_LINECAP,a.strokeStyle=n.state.brushStyle.color,a.lineWidth=n.state.brushStyle.width,n.draftContextRef.current=a,t.style.opacity=.5,r.globalAlpha=1,n.contextRef.current=r},n.unloadHandler=function(e){return e.preventDefault(),e.returnValue="Are you sure you want to close?"},n.getMousePos=function(e){var t=n.draftRef.current.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},n.handlMouseUp=function(e){n.state.isDrawing&&(n.draftContextRef.current.closePath(),n.setState({isDrawing:!1}),n.contextRef.current.drawImage(n.draftRef.current,0,0),n.draftContextRef.current.clearRect(0,0,n.draftRef.current.width,n.draftRef.current.height))},n.handleMouseDown=function(e){var t=n.getMousePos(e),r=t.x,a=t.y;n.draftContextRef.current.strokeStyle=n.state.brushStyle.color,n.draftContextRef.current.lineWidth=n.state.brushStyle.width,n.draftContextRef.current.beginPath(),n.draftContextRef.current.moveTo(r,a),n.setState({isDrawing:!0}),n.point={x:r,y:a}},n.handleMouseMove=function(e){if(n.state.isDrawing){var t=n.getMousePos(e),r=t.x,a=t.y;if(n.state.selectedTool===h.TOOLS.PEN)n.draftContextRef.current.lineTo(r,a),n.draftContextRef.current.stroke(),n.draftRef.current.style.opacity=1;else if(n.state.selectedTool===h.TOOLS.ERASER){var o=n.state.brushStyle.width;n.draftRef.current.style.opacity=1,n.draftContextRef.current.clearRect(r,a,4*o,4*o)}else n.state.selectedTool===h.TOOLS.HIGHLIGHTER&&(n.draftRef.current.style.opacity=.5,n.draftContextRef.current.lineTo(r,a),n.draftContextRef.current.stroke())}},n.handleBrushChange=function(e){var t=n.state.brushStyle;n.setState({brushStyle:Object(c.a)({},t,{},e)})},n.handleToolChange=function(e){var t=e.currentTarget.dataset.tool,r=n.state.selectedTool,a=n.state.brushStyle;t===h.TOOLS.HIGHLIGHTER?n.setState({selectedTool:t,hideTool:r===t&&!n.state.hideTool,brushStyle:Object(c.a)({},a,{alpha:.5,width:5})}):n.setState({selectedTool:t,hideTool:r===t&&!n.state.hideTool,brushStyle:Object(c.a)({},a,{alpha:1})})},n.canvasRef=Object(a.createRef)(null),n.contextRef=Object(a.createRef)(null),n.draftRef=Object(a.createRef)(null),n.draftContextRef=Object(a.createRef)(null),n.state={isDrawing:!1,brushStyle:{color:h.DEFAULT_STROKE_COLOR,width:h.DEFAULT_LINE_WIDTH},selectedTool:h.DEFAULT_TOOL,hideTool:!1},n}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.initialiseCanvasDefaults(),window.addEventListener("beforeunload",this.unloadHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.unloadHandler)}},{key:"render",value:function(){return n.a.createElement("div",{className:"broad-wrapper"},n.a.createElement(F,{className:"toolbar",changeBrushStyle:this.handleBrushChange,selectedTool:this.state.selectedTool,hideTool:this.state.hideTool,changeTool:this.handleToolChange,brushStyle:this.state.brushStyle}),n.a.createElement("canvas",{className:"canvas-wrapper",ref:this.canvasRef}),n.a.createElement("canvas",{className:"canvas-wrapper",ref:this.draftRef,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handlMouseUp}))}}]),r}(a.Component));var Z=function(){return n.a.createElement("div",{className:"app"},n.a.createElement(G,{className:"board"}))};l.a.render(n.a.createElement(Z,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.194ec2da.chunk.js.map