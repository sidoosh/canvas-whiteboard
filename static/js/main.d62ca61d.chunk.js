(this["webpackJsonpcanvas-whiteboard"]=this["webpackJsonpcanvas-whiteboard"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),l=a.n(o),c=(a(13),a(14),a(6)),i=a(3),s=a(4),u=a(5),d=a(7),h={DEFAULT_LINECAP:"round",DEFAULT_STROKE_COLOR:"#12b886",DEFAULT_LINE_WIDTH:"5",DEFAULT_TOOL:"pen",TOOLS:{PEN:"pen",ERASER:"eraser"},COLOR_INPUT_ID:"input-color-picker",WIDTH_PANEL_SIZES:[{radius:"5%",width:"1"},{radius:"10%",width:"2"},{radius:"15%",width:"3"},{radius:"20%",width:"4"},{radius:"25%",width:"5"},{radius:"30%",width:"6"},{radius:"35%",width:"7"},{radius:"40%",width:"8"}],DEFAULT_COLORS:["#000000","#343a40","#495057","#c92a2a","#a61e4d","#862e9c","#5f3dc4","#364fc7","#2b8a3e","#d9480f"]};a(15);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var v=r.a.createElement("title",null,"Draw Copy"),m=r.a.createElement("desc",null,"Created with Sketch."),E=r.a.createElement("defs",null),w=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("g",{id:"Draw-Copy",stroke:"#505050",strokeWidth:1.7},r.a.createElement("path",{d:"M12.0197319,31.4105292 L12.7295275,27.3832002 C12.7473398,27.2821344 12.7958192,27.1889973 12.8683849,27.1164316 L27.2525835,12.732233 C28.2288942,11.7559223 29.8118066,11.7559223 30.7881174,12.732233 L32.2023309,14.1464466 C33.1786417,15.1227573 33.1786417,16.7056698 32.2023309,17.6819805 L17.8180472,32.0662642 C17.7455344,32.1387771 17.6524787,32.18724 17.5514944,32.2050836 L13.5262014,32.9163388 C12.8191836,33.0412664 12.1447585,32.569389 12.0198309,31.8623711 C11.993423,31.7129176 11.9933895,31.5599943 12.0197319,31.4105292 Z",id:"icon_draw-copy"}))),g=function(e){var t=e.svgRef,a=e.title,n=p(e,["svgRef","title"]);return r.a.createElement("svg",f({width:"44px",height:"44px",viewBox:"0 0 44 44",ref:t},n),void 0===a?v:a?r.a.createElement("title",null,a):null,m,E,w)},y=r.a.forwardRef((function(e,t){return r.a.createElement(g,f({svgRef:t},e))})),b=(a.p,a(16),function(e){var t=function(t){t.stopPropagation();var a=t.currentTarget.dataset.size;e.sendBrushStyle({width:a})};return r.a.createElement("div",{className:"popover width-panel"},r.a.createElement("div",{className:"width-panel-container"},r.a.createElement("div",{className:"width-panel-content"},h.WIDTH_PANEL_SIZES.map((function(a,n){return r.a.createElement("div",{className:"width-panel-box ".concat(parseInt(e.width)===parseInt(a.width)?"toolbar-content-active":""),key:n,onClick:t,"data-size":a.width},r.a.createElement("svg",{viewBox:"0 0 44 44",className:parseInt(e.width)===parseInt(a.width)?"img-acitve":""},r.a.createElement("circle",{cx:"50%",cy:"50%",r:a.radius})))})))))}),O=(a(17),function(e){var t=function(t){t.stopPropagation();var a="";t.target.value&&t.target.id===h.COLOR_INPUT_ID?a=t.target.value:t.currentTarget.dataset.color&&(a=t.currentTarget.dataset.color),a=function(e){return e&&-1===e.indexOf("#")?"#"+e:e}(a),e.sendBrushStyle({color:a})},a=function(e){return e&&-1!==e.indexOf("#")?e.slice(1):e}(e.color);return r.a.createElement("div",{className:"color-picker-wrapper"},r.a.createElement("div",{className:"color-picker-control-container"},r.a.createElement("button",{className:"color-picker-label-swatch",style:{backgroundColor:e.color||"12b886"}}),r.a.createElement("label",{className:"color-input-container"},r.a.createElement("div",{className:"color-picker-hash"},"#"),r.a.createElement("input",{onChange:t,className:"color-picker-input",id:"input-color-picker",value:a}))),r.a.createElement("div",{className:"popover"},r.a.createElement("div",{className:"color-picker color-picker-type-elementStroke"},r.a.createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),r.a.createElement("div",{className:"color-picker-content"},h.DEFAULT_COLORS.map((function(e,a){return r.a.createElement("button",{className:"color-picker-swatch",style:{backgroundColor:e},onClick:t,key:a,"data-color":e},r.a.createElement("span",{className:"color-picker-keybinding"},a+1))}))))))}),S=(a(18),function(e){var t=e.selectedTool===h.TOOLS.PEN;return r.a.createElement("div",{onClick:e.changeTool,"data-tool":h.TOOLS.PEN},r.a.createElement("div",{className:t?"toolbar-content-active":""},r.a.createElement(y,{className:t?"img-acitve":""})),t&&r.a.createElement("div",{className:"brush-style-container"},r.a.createElement(O,{sendBrushStyle:e.changeBrushStyle,color:e.brushStyle.color}),r.a.createElement(b,{sendBrushStyle:e.changeBrushStyle,width:e.brushStyle.width})))});function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var L=r.a.createElement("title",null,"eraser copy"),R=r.a.createElement("desc",null,"Created with Sketch."),N=r.a.createElement("defs",null),C=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("g",{id:"eraser-copy",stroke:"#505050",strokeWidth:1.7},r.a.createElement("path",{d:"M14,30.9644661 L20.3431458,30.9644661 C20.8735787,30.9644661 21.3822866,30.7537524 21.7573593,30.3786797 L32.5502525,19.5857864 C33.3313011,18.8047379 33.3313011,17.5384079 32.5502525,16.7573593 L27.3786797,11.5857864 C26.5976311,10.8047379 25.3313011,10.8047379 24.5502525,11.5857864 L10.5857864,25.5502525 C9.80473785,26.3313011 9.80473785,27.5976311 10.5857864,28.3786797 L12.5857864,30.3786797 C12.9608592,30.7537524 13.469567,30.9644661 14,30.9644661 Z M28.4644661,23.6715729 L20.4644661,15.6715729",id:"icon_eraser-copy-3"}))),x=function(e){var t=e.svgRef,a=e.title,n=k(e,["svgRef","title"]);return r.a.createElement("svg",T({width:"44px",height:"44px",viewBox:"0 0 44 44",ref:t},n),void 0===a?L:a?r.a.createElement("title",null,a):null,R,N,C)},D=r.a.forwardRef((function(e,t){return r.a.createElement(x,T({svgRef:t},e))})),P=(a.p,a(19),function(e){var t=e.selectedTool===h.TOOLS.ERASER;return r.a.createElement("div",{className:"eraser-wrapper",onClick:e.changeTool,"data-tool":h.TOOLS.ERASER},r.a.createElement("div",{className:t?"toolbar-content-active":""},r.a.createElement(D,{className:t?"img-acitve":""})),t&&r.a.createElement("div",{className:"brush-style-container"},r.a.createElement(b,{sendBrushStyle:e.changeBrushStyle,selectedTool:"eraser",width:e.brushStyle.width})))});var _=function(e){return r.a.createElement("div",{className:"toolbar"},r.a.createElement(S,e),r.a.createElement(P,e))},j=(a(20),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).initialiseCanvasDefaults=function(){var e=r.canvasRef.current;e.width=2*window.innerWidth,e.height=2*window.innerWidth,e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px");var t=r.canvasRef.current.getContext("2d");t.scale(2,2),t.lineCap=h.DEFAULT_LINECAP,t.strokeStyle=r.state.brushStyle.color,t.lineWidth=r.state.brushStyle.width,r.contextRef.current=t},r.unloadHandler=function(e){return e.preventDefault(),e.returnValue="Are you sure you want to close?"},r.handlMouseUp=function(e){r.state.isDrawing&&(e.stopPropagation(),r.contextRef.current.closePath(),r.contextRef.current.save(),r.setState({isDrawing:!1}))},r.handleMouseDown=function(e){e.stopPropagation();var t=e.clientX,a=e.clientY;r.contextRef.current.strokeStyle=r.state.brushStyle.color,r.contextRef.current.lineWidth=r.state.brushStyle.width,r.contextRef.current.beginPath(),r.contextRef.current.moveTo(t,a),r.setState({isDrawing:!0})},r.handleMouseMove=function(e){if(r.state.isDrawing){e.stopPropagation();var t=e.clientX,a=e.clientY;if(r.state.selectedTool===h.TOOLS.PEN)r.contextRef.current.lineTo(t,a),r.contextRef.current.stroke();else if(r.state.selectedTool===h.TOOLS.ERASER){var n=r.state.brushStyle.width;r.contextRef.current.clearRect(t,a,4*n,4*n)}}},r.handleBrushChange=function(e){var t=r.state.brushStyle;r.setState({brushStyle:Object(c.a)({},t,{},e)})},r.handleToolChange=function(e){var t=e.currentTarget.dataset.tool,a=r.state.selectedTool;r.setState({selectedTool:t,prevTool:a})},r.canvasRef=Object(n.createRef)(null),r.contextRef=Object(n.createRef)(null),r.state={isDrawing:!1,brushStyle:{color:h.DEFAULT_STROKE_COLOR,width:h.DEFAULT_LINE_WIDTH},selectedTool:h.DEFAULT_TOOL,isClearing:!1,prevTool:null},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.initialiseCanvasDefaults(),window.addEventListener("beforeunload",this.unloadHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.unloadHandler)}},{key:"render",value:function(){return r.a.createElement("div",{className:"broad-wrapper"},r.a.createElement(_,{className:"toolbar",changeBrushStyle:this.handleBrushChange,selectedTool:this.state.selectedTool,prevTool:this.state.prevTool,changeTool:this.handleToolChange,brushStyle:this.state.brushStyle}),r.a.createElement("canvas",{ref:this.canvasRef,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handlMouseUp}))}}]),a}(n.Component));var I=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(j,{className:"board"}))};l.a.render(r.a.createElement(I,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.d62ca61d.chunk.js.map